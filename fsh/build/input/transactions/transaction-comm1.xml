<?xml version="1.0" encoding="UTF-8" ?>
<PlanDefinition xmlns="http://hl7.org/fhir">
    <id>FHIR TR-Comm1</id>
    <url>http://example.org/PlanDefinition/mma</url>
    <identifier>
        <use>official</use>
        <value>ihe-mma</value>
    </identifier>
    <version>0.0.1</version>
    <title>Mobile Medication Administration workflow conformance</title>
    <title>An example of a PlanDefinition used to capture the constraints along a workflow</title>
    <status>active</status>
    <date>2019-03-24</date>
    <description>Mobile Medication Management</description>
    <relatedArtifact>
        <type>documentation</type>
        <url>http://www.ihe.net/pharm/ihe-mma</url>
    </relatedArtifact>
    <action>
        <!-- This first action is the query to get a set of planned administrations -->
        <title>MMA-Query administration plan</title>
        <!--     action.code is the code of the transaction   -->
        <code>ihePHARM-4</code>
        <!--     Q: Why is there code 0..* ?   -->
        <!--     How to express this is a HTTP GET? 1. Here?  -->
        <trigger>
            <type>named-event</type>
            <name>Query Administrations</name>
            <description>The trigger is when a nurse queries all planned administrations for them/their team, for a time period and/or for a patient</description>
        </trigger>
        <input>
            <!--     Q: How to express GET... ?intent=instance-order&participant=...   -->
            <!--     A: DataRequirement will contain that information -->
            <mustSupport value="true"/>
            <codeFilter>
            <path>?????</path>
            <code><code>instance-order</code></code>
            </codeFilter>
            <!--     Q: How to express this is a HTTP GET? 3. Here?  -->
        </input>
        <output>
            <profile>#contentProfile2</profile>
        </output>
        <participant>
            <!--     TO DO: Add function 0..* to action.participant   -->
            <!--     Q: is action.type "device" adequate?   -->
            <type>device</type>
            <function>initiator</function>
        </participant>
        <participant>
            <type>device</type>
            <!--     TO DO: Add function 0..* to action.participant   -->
            <function>receiver</function>
        </participant>
    </action>
</PlanDefinition>